{{- if eq .chezmoi.os "darwin" -}}
#!/bin/bash
echo "ðŸ  Setting macOS defaults" # ref. https://macos-defaults.com/

# Dock
defaults write com.apple.dock autohide -bool true               # autohide when the mouse is out
defaults write com.apple.dock show-recents -bool false          # hide recent apps

# Finder
defaults write NSGlobalDomain AppleShowAllExtensions -bool true # show all file extensions
defaults write com.apple.finder AppleShowAllFiles -bool true    # show hidden files
defaults write com.apple.finder ShowPathbar -bool true          # display the path bar below

# Keyboard
defaults write -g ApplePressAndHoldEnabled -bool false          # disable "press and hold" configuration

for app in \
    "Dock" \
	"Finder" \
	"SystemUIServer"; do
	killall "${app}" &>/dev/null
done
{{ end -}}